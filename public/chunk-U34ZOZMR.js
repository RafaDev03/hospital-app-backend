import{a as z}from"./chunk-SY2QTNOQ.js";import{a as R}from"./chunk-2T5LEQTV.js";import{e as M,f as A}from"./chunk-QHUTG37M.js";import{a as P}from"./chunk-UW666MUF.js";import{a as O}from"./chunk-HZMAKCER.js";import{a as Y}from"./chunk-PDI3HUYS.js";import"./chunk-DKJA5FGH.js";import"./chunk-WGZ3CRYS.js";import"./chunk-4PVG4ZNA.js";import{D as S,Ja as b,La as v,Pa as w,Qa as y,Ra as k,Sa as E,Ta as t,U as D,Ua as i,Va as p,Y as u,Ya as g,Z as f,Za as h,_a as _,db as I,eb as c,fb as F,gb as T,mb as V,nb as B,ob as j,pb as L,qb as $,ua as C,xa as s,ya as m}from"./chunk-OW2OVBTG.js";import{d as U}from"./chunk-5FZOKLP6.js";var x=U(Y());function q(n,a){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",18)(3,"h4",19),c(4,"Cargando"),i(),p(5,"i",20),t(6,"p",21),c(7,"Por favor espere"),i()()()())}var G=n=>["../doctor",n];function H(n,a){if(n&1){let d=g();t(0,"tr")(1,"th",22)(2,"img",23),h("click",function(){let o=u(d).$implicit,l=_();return f(l.cargarFoto(o))}),L(3,"img"),i()(),t(4,"td"),c(5),i(),t(6,"td",24)(7,"a",25),p(8,"i",26),i(),c(9," \xA0 "),t(10,"a",27),h("click",function(){let o=u(d).$implicit,l=_();return f(l.deleteDoctor(o))}),p(11,"i",28),i()()()}if(n&2){let d=a.$implicit;s(2),v("src",$(3,3,d.img,"doctors"),C),s(3),F(d.name),s(2),v("routerLink",j(6,G,d.id))}}var J=()=>["../doctor","create"],oe=(()=>{let a=class a{constructor(e,r,o,l){this.doctorService=e,this.modalService=r,this.searchService=o,this.router=l,this.doctors=[],this.loading=!0}ngOnDestroy(){this.imgSub?.unsubscribe()}ngOnInit(){this.findDoctors(),this.imgSub=this.modalService.newImg.pipe(S(100)).subscribe(e=>{this.findDoctors()})}findDoctors(){this.doctorService.findDoctors().subscribe(e=>{this.loading=!1,this.doctors=e})}cargarFoto(e){this.modalService.openModal("doctors",e)}searchDoctor(e){if(e.trim().length<=0){this.findDoctors();return}this.searchService.search("doctors",e).subscribe(r=>{this.doctors=r})}deleteDoctor(e){x.default.fire({title:"Esta Seguro de eliminar el doctor?",text:`Eliminar a ${e.name}`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&this.doctorService.deleteDoctor(e.id).subscribe(o=>{o.ok&&(this.findDoctors(),x.default.fire({title:"Deleted!",text:`The Doctor ${e.name} was deleted`,icon:"success"}))})})}};a.\u0275fac=function(r){return new(r||a)(m(z),m(P),m(O),m(M))},a.\u0275cmp=D({type:a,selectors:[["app-doctors"]],standalone:!0,features:[V],decls:33,vars:4,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuarios",1,"form-control",3,"keyup"],["txtDoctor",""],[1,"row"],["class","row animated fadeIn fast"],[1,"col-8"],[1,"card-title"],[1,"col"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col",1,"w100"],["scope","col"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],["scope","row"],["alt","",1,"avatar","cursor",3,"src","click"],[1,"text-nowrap"],["data-toggle","tooltip","data-original-title","Edit",1,"cursor",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(r,o){if(r&1){let l=g();t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),h("keyup",function(){u(l);let N=I(5);return f(o.searchDoctor(N.value))}),i()()()()(),t(6,"div",6),b(7,q,8,0,"div",7),t(8,"div",1)(9,"div",2)(10,"div",3)(11,"div",6)(12,"div",8)(13,"h5",9),c(14),i()(),t(15,"div",10)(16,"div",11)(17,"a",12),p(18,"i",13),c(19," Add "),i()()()(),t(20,"div",14)(21,"table",15)(22,"thead")(23,"tr")(24,"th",16),c(25,"Imagen"),i(),t(26,"th",17),c(27,"Name"),i(),t(28,"th",16),c(29,"Actions"),i()()(),t(30,"tbody"),k(31,H,12,8,"tr",null,y),i()()()()()()()}r&2&&(s(7),w(7,o.loading?7:-1),s(7),T("Doctors (",o.doctors.length,")"),s(3),v("routerLink",B(3,J)),s(14),E(o.doctors))},dependencies:[R,A]});let n=a;return n})();export{oe as DoctorsComponent};
